No-deal Brexit opponents defeat government